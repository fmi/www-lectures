<!DOCTYPE html><html lang="bg"><head><meta charset="utf-8" /><!--[if lt IE 9]><script src="js/html5shim.js"></script><![endif]--><link href="css/styles.css" rel="stylesheet" /><link href="css/pygments.css" rel="stylesheet" /><script src="js/analytics.js"></script><title>01. Ruby. Rack. MVC. Динамично генериране на HTML</title></head><body><header><h1>01. Ruby. Rack. MVC. Динамично генериране на HTML</h1><nav><ul><li><button id="prev-btn" title="Previous slide">Previous Slide</button></li><li><span id="slide-number"></span> / <span id="slide-total"></span></li><li><button id="next-btn" title="Next Slide">Next Slide</button></li></ul></nav></header><div id="deck"><section><hgroup><h1>01. Ruby. Rack. MVC. Динамично генериране на HTML</h1></hgroup></section><section>
<hgroup><h1>Няколко неща</h1></hgroup>
<ul><li class="action">напомняме за домашно 1
</li><li class="action">срокът е до събота вечер</li></ul></section>
<section>
<hgroup><h1>Vox populi, vox Dei</h1></hgroup>
<div class="left"><img height="300" src="images/uncle-sam.jpg" /></div><div class="left"><ul><li class="action">очаквайте анкета
</li><li class="action">с удобни за нас часове
</li><li class="action">изберете удобните и за вас
</li><li class="action">ще изберем оптималното решение</li></ul></div></section>
<section>
<hgroup><h1>Flashback</h1></hgroup>
<ul><li class="action">За курса
</li><li class="action">HTTP
</li><li class="action">HTML</li></ul></section>
<section>
<hgroup><h1>Flashback</h1><h2>HTTP</h2></hgroup>
<ul><li class="action">Hypertext Transfer Protocol
</li><li class="action">Stateless (не пази състояние)
</li><li class="action">Комуникация между разпределени системи (distributed systems)
</li><li class="action">Основите на съвременния уеб
</li><li class="action">Request/Response
</li><li class="action">URLs
</li><li class="action">Verbs/Methods - GET, POST, UPDATE, DELETE</li></ul></section>
<section>
<hgroup><h1>Flashback</h1><h2>HTML</h2></hgroup>
<ul><li class="action">HyperText Markup Language
</li><li class="action">Implemented by the browser
</li><li class="action">Основата на всяка уеб страница
</li><li class="action">Задава структура</li></ul></section>
<section>
<hgroup><h1>Flashback</h1><h2>HTML pt. 2</h2></hgroup>
<div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
  <span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>My title<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;h1&gt;</span>My header<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://example.com&quot;</span><span class="nt">&gt;</span>My Link<span class="nt">&lt;/a&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Flashback</h1><h2>HTML - изграждащи единици</h2></hgroup>
<p>тагове, атрибути, елементи</p><div class="highlight"><pre><span class="nt">&lt;tag&gt;</span> - отварящ таг
<span class="nt">&lt;/tag&gt;</span> - затварящ таг
<span class="nt">&lt;tag</span> <span class="na">attribute=</span><span class="s">&quot;value&quot;</span><span class="nt">&gt;</span> - атрибут на таг
<span class="nt">&lt;tag</span> <span class="na">attribute=</span><span class="s">&quot;value&quot;</span><span class="nt">&gt;</span>tag content<span class="nt">&lt;/tag&gt;</span> - елемент
</pre>
</div>
<p>Атрибутите дават допълнителна информация за HTML елементите.</p></section>
<section>
<hgroup><h1>Flashback</h1><h2>HTML - структура</h2></hgroup>
<div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span> - Декларира HTML версията на документа (в случая HTML 5)
<span class="nt">&lt;head&gt;</span> - Съдържа заглавие, скриптове, стилове, мета информация и други.
<span class="nt">&lt;title&gt;</span> - Заглавие на страницата. Съдържа се в <span class="nt">&lt;head&gt;</span>.
<span class="nt">&lt;body&gt;</span> - Дефинира съдържанието на документа.
</pre>
</div>
</section>
<section>
<hgroup><h1>Днес</h1></hgroup>
<ul><li class="action">Ruby
</li><li class="action">Rack
</li><li class="action">MVC
</li><li class="action">ERB</li></ul></section>
<section>
<hgroup><h1>Ruby</h1></hgroup>
<ul><li class="action">Програмите в Ruby са текстови файлове
</li><li class="action">Няма компилация като в C или Java
</li><li class="action">Скриптов език
</li><li class="action">Изпълняват се в терминал/конзола/command prompt с <code>ruby име_на_файл</code></li></ul></section>
<section>
<hgroup><h1>Малко ресурси</h1><h2>за любознателните</h2></hgroup>
<ul><li class="action"><a href='http://fmi.ruby.bg/'>Курса по ruby във ФМИ</a>
</li><li class="action"><a href='http://learnxinyminutes.com/docs/ruby/'>Learn ruby in Y minutes</a>
</li><li class="action"><a href='https://www.codecademy.com/tracks/ruby'>CodeCademy</a>
</li><li class="action"><a href='https://www.bloc.io/ruby-warrior/'>Ruby Warrior</a></li></ul></section>
<section>
<hgroup><h1>Ruby</h1><h2>Здравей свят</h2></hgroup>
<div class="highlight"><pre><span class="nb">puts</span> <span class="s2">&quot;Hello world&quot;</span>
<span class="nb">puts</span> <span class="s2">&quot;The answer of life is &quot;</span><span class="p">,</span> <span class="mi">6</span> <span class="o">*</span> <span class="mi">7</span>
</pre>
</div>
<p>Изпълнява се с `ruby hello.rb`</p></section>
<section>
<hgroup><h1>Конзола</h1></hgroup>
<ul><li class="action">Мястото където ще стартираме програмите
</li><li class="action">И някои други неща
</li><li class="action">Използваем Windows terminal <a href='http://fmi.ruby.bg/topics/2'>тук</a></li></ul></section>
<section>
<hgroup><h1>irb</h1><h2>интерактивна конзола</h2></hgroup>
<ul><li class="action"><code>irb</code> – Interactive Ruby
</li><li class="action">REPL — Read-Eval-Print Loop
</li><li class="action">Тук ще прекарваме доста време - и ние, и вие
</li><li class="action">Стартирате я с <code>irb</code> (трябва да ви е в "пътя")
</li><li class="action">Самото irb е конзола в конзолата
</li><li class="action">Излизате в конзолата с <code>exit</code> или с <code>Ctrl + D</code> (под UNIX)</li></ul></section>
<section>
<hgroup><h1>irb</h1><h2>интерактивна конзола</h2></hgroup>
<pre>$ irb
>> 6 * 9
54
>> "Ruby! " * 4
"Ruby! Ruby! Ruby! Ruby!"
>> -10.abs
10 </pre></section>
<section>
<hgroup><h1>Ruby</h1><h2>всичко е обект</h2></hgroup>
<p>Всичко в ruby обект!</p><div class="highlight"><pre><span class="mi">3</span><span class="o">.</span><span class="n">class</span> <span class="c1">#=&gt; Fixnum</span>
<span class="mi">3</span><span class="o">.</span><span class="n">to_s</span> <span class="c1">#=&gt; &quot;3&quot;</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>базова аритметика</h2></hgroup>
<div class="highlight"><pre><span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span> <span class="c1">#=&gt; 2</span>
<span class="mi">8</span> <span class="o">-</span> <span class="mi">1</span> <span class="c1">#=&gt; 7</span>
<span class="mi">10</span> <span class="o">*</span> <span class="mi">2</span> <span class="c1">#=&gt; 20</span>
<span class="mi">35</span> <span class="o">/</span> <span class="mi">5</span> <span class="c1">#=&gt; 7</span>
<span class="mi">2</span><span class="o">**</span><span class="mi">5</span> <span class="c1">#=&gt; 32</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>... и понеже всичко е обект</h2></hgroup>
<p>Аритметиката е просто syntax sugar за извикване на метод на обект.</p><div class="highlight"><pre><span class="mi">1</span><span class="o">.</span><span class="n-Operator">+</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1">#=&gt; 4</span>
<span class="mi">10</span><span class="o">.</span><span class="n-Operator">*</span> <span class="mi">5</span> <span class="c1">#=&gt; 50</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>както вече споменахме...</h2></hgroup>
<p>Дори и специалните стойности са обекти.</p><div class="highlight"><pre><span class="kp">nil</span> <span class="c1"># Nothing to see here</span>
<span class="kp">true</span> <span class="c1"># truth</span>
<span class="kp">false</span> <span class="c1"># falsehood</span>

<span class="kp">nil</span><span class="o">.</span><span class="n">class</span> <span class="c1">#=&gt; NilClass</span>
<span class="kp">true</span><span class="o">.</span><span class="n">class</span> <span class="c1">#=&gt; TrueClass</span>
<span class="kp">false</span><span class="o">.</span><span class="n">class</span> <span class="c1">#=&gt; FalseClass</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>равенство</h2></hgroup>
<div class="highlight"><pre><span class="x">1 == 1 #=&gt; true</span>
<span class="x">2 == 1 #=&gt; false</span>

<span class="x">1 != 1 #=&gt; false</span>
<span class="x">2 != 1 #=&gt; true</span>
</pre>
</div>
<p>Всъщност в ruby има <a href="http://stackoverflow.com/questions/7156955/whats-the-difference-between-equal-eql-and">4 равенства</a>.</p></section>
<section>
<hgroup><h1>Ruby</h1><h2>къде е истината</h2></hgroup>
<p>Точно две неща в ruby се оценяват на лъжа:</p><ul><li class="action"><code>nil</code>
</li><li class="action"><code>false</code></li></ul><div class="highlight"><pre><span class="o">!</span><span class="kp">nil</span>   <span class="c1">#=&gt; true</span>
<span class="o">!</span><span class="kp">false</span> <span class="c1">#=&gt; true</span>
<span class="o">!</span><span class="mi">0</span>     <span class="c1">#=&gt; false</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>сравнения</h2></hgroup>
<div class="highlight"><pre><span class="mi">1</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="c1">#=&gt; true</span>
<span class="mi">1</span> <span class="o">&gt;</span> <span class="mi">10</span> <span class="c1">#=&gt; false</span>
<span class="mi">2</span> <span class="o">&lt;=</span> <span class="mi">2</span> <span class="c1">#=&gt; true</span>
<span class="mi">2</span> <span class="o">&gt;=</span> <span class="mi">2</span> <span class="c1">#=&gt; true</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>логически оператори</h2></hgroup>
<div class="highlight"><pre><span class="kp">true</span> <span class="o">&amp;&amp;</span> <span class="kp">false</span> <span class="c1">#=&gt; false</span>
<span class="kp">true</span> <span class="o">||</span> <span class="kp">false</span> <span class="c1">#=&gt; true</span>
<span class="o">!</span><span class="kp">true</span> <span class="c1">#=&gt; false</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>стринговете като... обекти</h2></hgroup>
<div class="highlight"><pre><span class="s1">&#39;I am a string&#39;</span><span class="o">.</span><span class="n">class</span> <span class="c1">#=&gt; String</span>
<span class="s2">&quot;I am a string too&quot;</span><span class="o">.</span><span class="n">class</span> <span class="c1">#=&gt; String</span>

<span class="n">placeholder</span> <span class="o">=</span> <span class="s1">&#39;use string interpolation&#39;</span>
<span class="s2">&quot;I can </span><span class="si">#{</span><span class="n">placeholder</span><span class="si">}</span><span class="s2"> when using double quoted strings&quot;</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>променливи</h2></hgroup>
<div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="mi">25</span> <span class="c1">#=&gt; 25</span>
<span class="n">x</span> <span class="c1">#=&gt; 25</span>
</pre>
</div>
<p>Забележете, че присвояването връща стойността. Следователно:</p><div class="highlight"><pre><span class="n">x</span> <span class="o">=</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1">#=&gt; 10</span>
<span class="n">x</span> <span class="c1">#=&gt; 10</span>
<span class="n">y</span> <span class="c1">#=&gt; 10</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>именуване</h2></hgroup>
<ul><li class="action">имената се изписват в <code>snake_case</code>
</li><li class="action">трябва да бъдат дескриптивни</li></ul><div class="highlight"><pre><span class="n">snake_case</span> <span class="o">=</span> <span class="kp">true</span>

<span class="n">path_to_project_root</span> <span class="o">=</span> <span class="s1">&#39;/good/name/&#39;</span>
<span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;/bad/name/&#39;</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>символи</h2></hgroup>
<ul><li class="action">immutable, reusable constants
</li><li class="action">вътрешно се представят чрез целочислена стойност
</li><li class="action">използват се вместо стрингове с цел ефективност
</li><li class="action">например ключове на хеш таблици</li></ul><div class="highlight"><pre><span class="ss">:pending</span><span class="o">.</span><span class="n">class</span> <span class="c1">#=&gt; Symbol</span>

<span class="n">status</span> <span class="o">=</span> <span class="ss">:pending</span>

<span class="n">status</span> <span class="o">==</span> <span class="ss">:pending</span> <span class="c1">#=&gt; true</span>

<span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;pending&#39;</span> <span class="c1">#=&gt; false</span>

<span class="n">status</span> <span class="o">==</span> <span class="ss">:approved</span> <span class="c1">#=&gt; false</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>масиви</h2></hgroup>
<p>Масивите в ruby са хетерогенни!</p><div class="highlight"><pre><span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="kp">false</span><span class="o">]</span> <span class="c1">#=&gt; [1, &quot;hello&quot;, false]</span>

<span class="n">array</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="c1">#=&gt; 1</span>
<span class="n">array</span><span class="o">[</span><span class="mi">12</span><span class="o">]</span> <span class="c1">#=&gt; nil</span>
</pre>
</div>
<p>И понеже са обекти...</p><div class="highlight"><pre><span class="n">array</span><span class="o">.</span><span class="n-Operator">[]</span> <span class="mi">0</span> <span class="c1">#=&gt; 1</span>
<span class="n">array</span><span class="o">.</span><span class="n-Operator">[]</span> <span class="mi">12</span> <span class="c1">#=&gt; nil</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>...още масиви</h2></hgroup>
<div class="highlight"><pre><span class="c1"># From the end</span>
<span class="n">array</span><span class="o">[-</span><span class="mi">1</span><span class="o">]</span> <span class="c1">#=&gt; 5</span>

<span class="c1"># With a start index and length</span>
<span class="n">array</span><span class="o">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span> <span class="c1">#=&gt; [3, 4, 5]</span>

<span class="c1"># Reverse an Array</span>
<span class="n">a</span><span class="o">=[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span>
<span class="n">a</span><span class="o">.</span><span class="n">reverse!</span> <span class="c1">#=&gt; [3,2,1]</span>

<span class="c1"># Or with a range</span>
<span class="n">array</span><span class="o">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="o">]</span> <span class="c1">#=&gt; [2, 3, 4]</span>

<span class="c1"># Add to an array like this</span>
<span class="n">array</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span> <span class="c1">#=&gt; [1, 2, 3, 4, 5, 6]</span>
<span class="c1"># Or like this</span>
<span class="n">array</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="c1">#=&gt; [1, 2, 3, 4, 5, 6]</span>

<span class="c1"># Check if an item exists in an array</span>
<span class="n">array</span><span class="o">.</span><span class="n">include?</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">#=&gt; true</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>хешове 1&#47;3</h2></hgroup>
<p>Хешовете са:</p><ul><li class="action">речници
</li><li class="action">хеш таблици
</li><li class="action">асоциативни масиви
</li><li class="action">...както там го наричате</li></ul></section>
<section>
<hgroup><h1>Ruby</h1><h2>хешове 2&#47;3</h2></hgroup>
<div class="highlight"><pre><span class="nb">hash</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;color&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;number&#39;</span> <span class="o">=&gt;</span> <span class="mi">5</span> <span class="p">}</span>

<span class="nb">hash</span><span class="o">.</span><span class="n">keys</span> <span class="c1">#=&gt; [&#39;color&#39;, &#39;number&#39;]</span>

<span class="c1"># Hashes can be quickly looked up by key:</span>
<span class="nb">hash</span><span class="o">[</span><span class="s1">&#39;color&#39;</span><span class="o">]</span> <span class="c1">#=&gt; &#39;green&#39;</span>
<span class="nb">hash</span><span class="o">[</span><span class="s1">&#39;number&#39;</span><span class="o">]</span> <span class="c1">#=&gt; 5</span>

<span class="c1"># Asking a hash for a key that doesn&#39;t exist returns nil:</span>
<span class="nb">hash</span><span class="o">[</span><span class="s1">&#39;nothing here&#39;</span><span class="o">]</span> <span class="c1">#=&gt; nil</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>хешове 3&#47;3</h2></hgroup>
<p>След версия 1.9 има syntax sugar за символни ключове:</p><div class="highlight"><pre><span class="n">new_hash</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">defcon</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="ss">action</span><span class="p">:</span> <span class="kp">true</span> <span class="p">}</span>

<span class="n">new_hash</span><span class="o">.</span><span class="n">keys</span> <span class="c1">#=&gt; [:defcon, :action]</span>

<span class="c1"># Check existence of keys and values in hash</span>
<span class="n">new_hash</span><span class="o">.</span><span class="n">has_key?</span><span class="p">(</span><span class="ss">:defcon</span><span class="p">)</span> <span class="c1">#=&gt; true</span>
<span class="n">new_hash</span><span class="o">.</span><span class="n">has_value?</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1">#=&gt; true</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>if-else</h2></hgroup>
<div class="highlight"><pre><span class="k">if</span> <span class="kp">true</span>
  <span class="s1">&#39;if statement&#39;</span>
<span class="k">elsif</span> <span class="kp">false</span>
  <span class="s1">&#39;else if, optional&#39;</span>
<span class="k">else</span>
  <span class="s1">&#39;else, also optional&#39;</span>
<span class="k">end</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>for</h2></hgroup>
<ul><li class="action">В ruby има <code>for</code>
</li><li class="action">Не го ползвайте
</li><li class="action">НИКОГА!!!
</li><li class="action">!!!1!!1!</li></ul><ul><li class="action">Курсът по ruby е под наслов
</li><li class="action">'Всеки <code>for</code> пирон в ковчега на добрата оценка.'</li></ul></section>
<section>
<hgroup><h1>Ruby</h1><h2>вместо това</h2></hgroup>
<p>`each`</p><ul><li class="action">обхожда дадена колекция по елементите ѝ
</li><li class="action">подобно на <code>foreach</code>, <code>for (T elem : collection)</code> в Java
</li><li class="action">схванахте идеята</li></ul><div class="highlight"><pre><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">counter</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="s2">&quot;iteration </span><span class="si">#{</span><span class="n">counter</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>
<span class="c1">#=&gt; iteration 1</span>
<span class="c1">#=&gt; iteration 2</span>
<span class="c1">#=&gt; iteration 3</span>
<span class="c1">#=&gt; iteration 4</span>
<span class="c1">#=&gt; iteration 5</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>each</h2></hgroup>
<div class="highlight"><pre><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">counter</span><span class="o">|</span> <span class="nb">puts</span> <span class="s2">&quot;iteration </span><span class="si">#{</span><span class="n">counter</span><span class="si">}</span><span class="s2">&quot;</span> <span class="p">}</span>

<span class="c1"># arrays</span>
<span class="n">array</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">element</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">element</span><span class="si">}</span><span class="s2"> is part of the array&quot;</span>
<span class="k">end</span>
<span class="c1"># hashes</span>
<span class="nb">hash</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">key</span><span class="si">}</span><span class="s2"> is </span><span class="si">#{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>map, reduce</h2></hgroup>
<p>Учили сте ги по функционално!</p><p>`map`, `reduce`, `inject`</p><div class="highlight"><pre><span class="n">array</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="o">]</span>
<span class="n">doubled</span> <span class="o">=</span> <span class="n">array</span><span class="o">.</span><span class="n">map</span> <span class="k">do</span> <span class="o">|</span><span class="n">element</span><span class="o">|</span>
  <span class="n">element</span> <span class="o">*</span> <span class="mi">2</span>
<span class="k">end</span>
<span class="nb">puts</span> <span class="n">doubled</span>
<span class="c1">#=&gt; [2,4,6,8,10]</span>
<span class="nb">puts</span> <span class="n">array</span>
<span class="c1">#=&gt; [1,2,3,4,5]</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>функции 1&#47;2</h2></hgroup>
<ul><li class="action">дефинират се с <code>def</code>
</li><li class="action">няма нужда да се ползва <code>return</code>
</li><li class="action">връщат последния оценен израз
</li><li class="action">при извикване скобите могат да се изпускат
</li><li class="action">аргументите се разделят със запетая</li></ul><div class="highlight"><pre><span class="k">def</span> <span class="nf">double</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
  <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span>
<span class="k">end</span>

<span class="c1"># Functions (and all blocks) implicitly return the value of the last statement</span>
<span class="n">double</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">#=&gt; 4</span>

<span class="c1"># Parentheses are optional where the result is unambiguous</span>
<span class="n">double</span> <span class="mi">3</span> <span class="c1">#=&gt; 6</span>
<span class="n">double</span> <span class="n">double</span> <span class="mi">3</span> <span class="c1">#=&gt; 12</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>функции 2&#47;2</h2></hgroup>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">sum</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
  <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="k">end</span>

<span class="c1"># Method arguments are separated by a comma</span>
<span class="n">sum</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="c1">#=&gt; 7</span>

<span class="n">sum</span> <span class="n">sum</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="mi">5</span> <span class="c1">#=&gt; 12</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>класове</h2></hgroup>
<ul><li class="action">дефинират се с ключовата дума <code>class</code>
</li><li class="action">конструктур е метода <code>initialize</code></li></ul><div class="highlight"><pre><span class="k">class</span> <span class="nc">Human</span>
  <span class="k">def</span> <span class="nf">initialize</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>променливи</h2></hgroup>
<ul><li class="action">променливите в ruby се определят от префикса
</li><li class="action"><code>$var</code> - глобална променлива
</li><li class="action"><code>@var</code> - инстанционна променлива
</li><li class="action"><code>@@var</code> - класова (статична) променлива
</li><li class="action"><code>Var</code> - константа
</li><li class="action">може да проверим от какъв тип е дадена променлива с <code>defined?</code></li></ul><div class="highlight"><pre><span class="c1"># Variables that start with $ have global scope</span>
<span class="vg">$var</span> <span class="o">=</span> <span class="s2">&quot;I&#39;m a global var&quot;</span>
<span class="n">defined?</span> <span class="vg">$var</span> <span class="c1">#=&gt; &quot;global-variable&quot;</span>

<span class="c1"># Variables that start with @ have instance scope</span>
<span class="vi">@var</span> <span class="o">=</span> <span class="s2">&quot;I&#39;m an instance var&quot;</span>
<span class="n">defined?</span> <span class="vi">@var</span> <span class="c1">#=&gt; &quot;instance-variable&quot;</span>

<span class="c1"># Variables that start with @@ have class scope</span>
<span class="vc">@@var</span> <span class="o">=</span> <span class="s2">&quot;I&#39;m a class var&quot;</span>
<span class="n">defined?</span> <span class="vc">@@var</span> <span class="c1">#=&gt; &quot;class variable&quot;</span>

<span class="c1"># Variables that start with a capital letter are constants</span>
<span class="no">Var</span> <span class="o">=</span> <span class="s2">&quot;I&#39;m a constant&quot;</span>
<span class="n">defined?</span> <span class="no">Var</span> <span class="c1">#=&gt; &quot;constant&quot;</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>класове</h2></hgroup>
<div class="highlight"><pre><span class="c1"># Define a class with the class keyword</span>
<span class="k">class</span> <span class="nc">Human</span>

  <span class="c1"># A class variable. It is shared by all instances of this class.</span>
  <span class="vc">@@species</span> <span class="o">=</span> <span class="s1">&#39;H. sapiens&#39;</span>

  <span class="c1"># Basic initializer</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">,</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="c1"># Assign the argument to the &quot;name&quot; instance variable for the instance</span>
    <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
    <span class="c1"># If no age given, we will fall back to the default in the arguments list.</span>
    <span class="vi">@age</span> <span class="o">=</span> <span class="n">age</span>
  <span class="k">end</span>

  <span class="c1"># Basic setter method</span>
  <span class="k">def</span> <span class="nf">name</span><span class="o">=</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
    <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
  <span class="k">end</span>

  <span class="c1"># Basic getter method</span>
  <span class="k">def</span> <span class="nf">name</span>
    <span class="vi">@name</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>гетъри и сетъри</h2></hgroup>
<ul><li class="action">в ruby гетъри и сетъри могат да се генерират автоматично
</li><li class="action"><code>attr_reader :variable</code> - генерира гетър за <code>@variable</code>
</li><li class="action"><code>attr_reader :variable</code> - генерира сетър за <code>@variable</code>
</li><li class="action"><code>attr_accessor :variable</code> - генерира гетър и сетър</li></ul><div class="highlight"><pre><span class="kp">attr_accessor</span> <span class="ss">:name</span>

<span class="c1"># Getter/setter methods can also be created individually like this</span>
<span class="kp">attr_reader</span> <span class="ss">:name</span>
<span class="kp">attr_writer</span> <span class="ss">:name</span>
</pre>
</div>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">Human</span>
  <span class="kp">attr_accessor</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:age</span>

  <span class="vc">@@species</span> <span class="o">=</span> <span class="s1">&#39;H. sapiens&#39;</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">,</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
    <span class="vi">@age</span> <span class="o">=</span> <span class="n">age</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>класови методи</h2></hgroup>
<ul><li class="action">Слагаме <code>self.</code> преди името на метода.
</li><li class="action">Класови е синоним на статични за класа.
</li><li class="action">Следователно могат да се викат и без конкретна инстанция.</li></ul><div class="highlight"><pre><span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">say</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="n">msg</span>
<span class="k">end</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>класове</h2></hgroup>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">Human</span>
  <span class="kp">attr_accessor</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:age</span>

  <span class="vc">@@species</span> <span class="o">=</span> <span class="s1">&#39;H. sapiens&#39;</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="nb">name</span><span class="p">,</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="vi">@name</span> <span class="o">=</span> <span class="nb">name</span>
    <span class="vi">@age</span> <span class="o">=</span> <span class="n">age</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">say</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="nb">puts</span> <span class="n">msg</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">species</span>
    <span class="vc">@@species</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Ruby</h1><h2>малко примери</h2></hgroup>
<div class="highlight"><pre><span class="c1"># Instantiate a class</span>
<span class="n">jim</span> <span class="o">=</span> <span class="no">Human</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;Jim Halpert&#39;</span><span class="p">)</span>

<span class="n">dwight</span> <span class="o">=</span> <span class="no">Human</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;Dwight K. Schrute&#39;</span><span class="p">)</span>

<span class="c1"># Let&#39;s call a couple of methods</span>
<span class="n">jim</span><span class="o">.</span><span class="n">species</span> <span class="c1">#=&gt; &quot;H. sapiens&quot;</span>
<span class="n">jim</span><span class="o">.</span><span class="n">name</span> <span class="c1">#=&gt; &quot;Jim Halpert&quot;</span>
<span class="n">jim</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Jim Halpert II&quot;</span> <span class="c1">#=&gt; &quot;Jim Halpert II&quot;</span>
<span class="n">jim</span><span class="o">.</span><span class="n">name</span> <span class="c1">#=&gt; &quot;Jim Halpert II&quot;</span>
<span class="n">dwight</span><span class="o">.</span><span class="n">species</span> <span class="c1">#=&gt; &quot;H. sapiens&quot;</span>
<span class="n">dwight</span><span class="o">.</span><span class="n">name</span> <span class="c1">#=&gt; &quot;Dwight K. Schrute&quot;</span>

<span class="c1"># Call the class method</span>
<span class="no">Human</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s1">&#39;Hi&#39;</span><span class="p">)</span> <span class="c1">#=&gt; &quot;Hi&quot;</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>MVC</h1><h2>що е то?</h2></hgroup>
<ul><li class="action">Model-view-controller
</li><li class="action">design (architectural) pattern за потребителски интерфейс
</li><li class="action">разделя приложението ни на 3 независими части
</li><li class="action">тяхната роля е да разграничат начина, по който се съхранява и обработва информацията
</li><li class="action">...от начина, по който се показва на потребителя
</li><li class="action">започнала като архитектура за десктоп приложения
</li><li class="action">днес е изключително популярна във веба
</li><li class="action">Всеки уважаващ себе си фреймвърк за уеб приложения я използва</li></ul></section>
<section>
<hgroup><h1>MVC</h1><h2>overview</h2></hgroup>
<img height="400" src="images/mvc-rails.png" /></section>
<section>
<hgroup><h1>Практика</h1></hgroup>
<ul><li class="action">По време на упражненията ще направим Twitter clone
</li><li class="action">Няма да покрива цялата функционалност на Twitter
</li><li class="action">Паралелно ще направим и базов MVC framework</li></ul></section>
<section>
<hgroup><h1>Twitter clone</h1><h2>Началото...</h2></hgroup>
<ul><li class="action">Почваме още днес
</li><li class="action">Baby steps
</li><li class="action">3 страници: профилна, followers, following
</li><li class="action">1 controller: <code>UserController</code>
</li><li class="action">3 view-та: <code>show.html.erb</code>, <code>followers.html.erb</code>, <code>following.html.erb</code>
</li><li class="action"><code>.erb</code>? Embedded Ruby. Така ще правим template-и.
</li><li class="action">No routers today ;(</li></ul></section>
<section>
<hgroup><h1>Twitter clone</h1><h2>Файлова структура</h2></hgroup>
<div class="highlight"><pre><span class="x">.</span>
<span class="x">|- views</span>
<span class="x">|- controllers</span>
<span class="x">|- models</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Моделиране</h1><h2>на потребители (част 1)</h2></hgroup>
<ul><li class="action">Models?
</li><li class="action">Намират се в директорията <code>models</code>
</li><li class="action">Псевдоним, email, местоположение, имена, цяло име
</li><li class="action">Нищо особено на този етап</li></ul></section>
<section>
<hgroup><h1>Моделиране</h1><h2>на потребители (кодът)</h2></hgroup>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">User</span>
  <span class="kp">attr_accessor</span> <span class="ss">:username</span><span class="p">,</span> <span class="ss">:email</span><span class="p">,</span> <span class="ss">:first_name</span><span class="p">,</span> <span class="ss">:last_name</span><span class="p">,</span> <span class="ss">:location</span>

  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">first_name</span><span class="p">,</span> <span class="n">last_name</span><span class="p">,</span> <span class="n">location</span><span class="p">)</span>
    <span class="vi">@username</span> <span class="o">=</span> <span class="n">username</span>
    <span class="vi">@email</span> <span class="o">=</span> <span class="n">email</span>
    <span class="vi">@first_name</span> <span class="o">=</span> <span class="n">first_name</span>
    <span class="vi">@last_name</span> <span class="o">=</span> <span class="n">last_name</span>
    <span class="vi">@location</span> <span class="o">=</span> <span class="n">location</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">full_name</span>
    <span class="s2">&quot;</span><span class="si">#{</span><span class="n">first_name</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">last_name</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Контролиране</h1><h2>или по-скоро изпълняване на желания (част 1)</h2></hgroup>
<ul><li class="action">Controllers?
</li><li class="action">Намират се в директорията 'controllers'
</li><li class="action">Всеки request се map-ва към controller и действие (<code>Controller#method</code>)
</li><li class="action">Трябват ни действия за показване на профил, followers и following
</li><li class="action"><code>UserController#show</code>, <code>UserController#followers</code>, <code>UserController#following</code>
</li><li class="action">Игнорирайте метода <code>render</code> на този етап (намира се на следващия слайд)
</li><li class="action">Нищо особено на този етап</li></ul></section>
<section>
<hgroup><h1>Контролиране</h1><h2>или по-скоро изпълняване на желания (кодът)</h2></hgroup>
<div class="highlight"><pre><span class="nb">require</span> <span class="s1">&#39;erb&#39;</span>
<span class="nb">require</span> <span class="s1">&#39;sample_users&#39;</span>

<span class="k">class</span> <span class="nc">UserController</span>
  <span class="k">def</span> <span class="nf">show</span>
    <span class="vi">@user</span> <span class="o">=</span> <span class="no">USERS</span><span class="o">[</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]]</span>
    <span class="n">render</span> <span class="ss">:show</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">followers</span>
    <span class="vi">@followers</span> <span class="o">=</span> <span class="o">[]</span>
    <span class="n">render</span> <span class="ss">:followers</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">following</span>
    <span class="vi">@following</span> <span class="o">=</span> <span class="o">[]</span>
    <span class="n">render</span> <span class="ss">:following</span>
  <span class="k">end</span>

  <span class="kp">private</span>

  <span class="k">def</span> <span class="nf">params</span>
    <span class="p">{</span><span class="nb">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="n">view_path</span><span class="p">)</span>
    <span class="no">ERB</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;views/</span><span class="si">#{</span><span class="n">view_path</span><span class="si">}</span><span class="s2">.html.erb&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="nb">binding</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Примерни данни</h1></hgroup>
<ul><li class="action"><code>require 'sample_users'</code>, anyone?
</li><li class="action">Временно, докато не стигнем БД</li></ul><div class="highlight"><pre><span class="no">USERS</span> <span class="o">=</span> <span class="p">{</span>
  <span class="mi">1</span> <span class="o">=&gt;</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;foo@example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;Foo&#39;</span><span class="p">,</span> <span class="s1">&#39;Yeah&#39;</span><span class="p">,</span> <span class="s1">&#39;Fooland&#39;</span><span class="p">),</span>
  <span class="mi">2</span> <span class="o">=&gt;</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="s1">&#39;bar@example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;Bar&#39;</span><span class="p">,</span> <span class="s1">&#39;Yeah&#39;</span><span class="p">,</span> <span class="s1">&#39;Barland&#39;</span><span class="p">),</span>
  <span class="mi">3</span> <span class="o">=&gt;</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;larodi&#39;</span><span class="p">,</span> <span class="s1">&#39;larodi@example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;Larodi&#39;</span><span class="p">,</span> <span class="s1">&#39;The Great&#39;</span><span class="p">,</span> <span class="s1">&#39;Larodiland&#39;</span><span class="p">),</span>
  <span class="mi">4</span> <span class="o">=&gt;</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;lorem&#39;</span><span class="p">,</span> <span class="s1">&#39;lorem@example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;Lorem&#39;</span><span class="p">,</span> <span class="s1">&#39;Text&#39;</span><span class="p">,</span> <span class="s1">&#39;Loremland&#39;</span><span class="p">),</span>
  <span class="mi">5</span> <span class="o">=&gt;</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;ipsum&#39;</span><span class="p">,</span> <span class="s1">&#39;ipsum@example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;Ipsum&#39;</span><span class="p">,</span> <span class="s1">&#39;Text&#39;</span><span class="p">,</span> <span class="s1">&#39;Ipsumland&#39;</span><span class="p">),</span>
  <span class="mi">6</span> <span class="o">=&gt;</span> <span class="no">User</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;xyz&#39;</span><span class="p">,</span> <span class="s1">&#39;xyz@example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;Xyz&#39;</span><span class="p">,</span> <span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="s1">&#39;Xyzland&#39;</span><span class="p">),</span>
<span class="p">}</span>

<span class="no">USER_FOLLOWERS</span> <span class="o">=</span> <span class="p">{</span>
  <span class="mi">1</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span><span class="p">,</span>
<span class="p">}</span>

<span class="no">USER_FOLLOWING</span> <span class="o">=</span> <span class="p">{</span>
  <span class="mi">1</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="o">]</span>
<span class="p">}</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Router</h1><h2>Маршрутизатор</h2></hgroup>
<ul><li class="action">Следващия път
</li><li class="action"><code>users/42</code> -> <code>UsersController#show</code>
</li><li class="action"><code>users/42/followers</code> -> <code>UsersController#followers</code>
</li><li class="action"><code>users/42/following</code> -> <code>UsersController#following</code>
</li><li class="action">Подават се и параметрите: <code>params: {id: 42}</code></li></ul></section>
<section>
<hgroup><h1>Представяне</h1><h2>на данните, ама красиво</h2></hgroup>
<ul><li class="action">Views?
</li><li class="action">Обвиват данните, така че да бъдат представяни
</li><li class="action">Обвивката може да бъде <code>html</code>, <code>json</code>, <code>xml</code>, и тн
</li><li class="action">Днес ни интересува <code>html</code>
</li><li class="action">Шаблони, в които се изпълнява Ruby код
</li><li class="action">Embedded Ruby</li></ul></section>
<section>
<hgroup><h1>Embedded Ruby</h1><h2>ERB</h2></hgroup>
<ul><li class="action">DEMO</li></ul></section>
<section>
<hgroup><h1>Методът render</h1><h2>...черна магия</h2></hgroup>
<ul><li class="action">Подаваме на <code>ERB</code> шаблон, съдържащ html и ruby код
</li><li class="action"><code>ERB</code> изпълнява ruby код-а и генерира чист html
</li><li class="action">Какъв е тоя <code>binding</code>?</li></ul><div class="highlight"><pre><span class="k">class</span> <span class="nc">UserController</span>
  <span class="o">...</span>

  <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="n">view_path</span><span class="p">)</span>
    <span class="no">ERB</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;views/</span><span class="si">#{</span><span class="n">view_path</span><span class="si">}</span><span class="s2">.html.erb&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="nb">binding</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre>
</div>
</section>
<section>
<hgroup><h1>Представяне</h1><h2>на данните, ама красиво (кодът)</h2></hgroup>
<p>Вие сте!</p></section>
<section>
<hgroup><h1>Домашното</h1></hgroup>
<p>Soon!</p></section>
<section><hgroup><h1>Въпроси</h1></hgroup><ul><li><a href="http://moodle.openfmi.net/course/view.php?id=1911">http://moodle.openfmi.net/course/view.php?id=1911</a></li></ul></section></div><script src="js/jquery-1.5.2.min.js"></script><script src="js/jquery.jswipe-0.1.2.js"></script><script src="js/htmlSlides.js"></script><script src="js/pusher.js"></script><script type="text/javascript">$(function() {
  htmlSlides.init({ hideToolbar: true });
});

mixpanel.set_config({debug: true});

var pusher = new Pusher('a2024b659f492cab86cc');
pusher.subscribe('lectures');
pusher.bind('refresh', function(data) {
  location.reload(true);
});

try {
  mixpanel.track('Landing Page', {
    referrer: document.referrer,
    presentation: document.title
  });
} catch (e) {};</script></body></html>